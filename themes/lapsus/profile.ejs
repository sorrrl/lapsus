<head>
  <title><%= settings.name %></title>
  <link rel="icon" type="image/png" href="<%= settings.logo.url %>">
  <link rel="stylesheet" href="../assets/tailwind.css">
  <link rel="stylesheet" href="../assets/css/modern-theme.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://unpkg.com/@popperjs/core@2.10.1/dist/umd/popper.min.js"></script>
  
  <!-- Animate.css for animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  
  <!-- AOS (Animate On Scroll) library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <% if (settings.music == true) { %>
    <!-- Music Player -->
    <script src="https://static.elfsight.com/platform/platform.js" data-use-service-core defer></script>
  <div class="elfsight-app-9c8f4667-f5ce-46b9-99e2-f32095e11518" data-elfsight-app-lazy></div>
    <% } %>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
      /* Custom animations */
      @keyframes fadeInUp {
          from {
              opacity: 0;
              transform: translateY(20px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }
      
      .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out forwards;
      }
      
      .hover-grow {
          transition: all 0.3s ease;
      }
      
      .hover-grow:hover {
          transform: scale(1.03);
      }
      
      .delay-100 {
          animation-delay: 0.1s;
      }
      .delay-200 {
          animation-delay: 0.2s;
      }
      .delay-300 {
          animation-delay: 0.3s;
      }
      
      /* Copy ID button styles */
      .copy-id {
          cursor: pointer;
          position: relative;
          display: inline-block;
      }
      
      .copy-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background-color: #333;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.2s, visibility 0.2s;
          margin-bottom: 5px;
      }
      
      .copy-id:hover .copy-tooltip {
          opacity: 1;
          visibility: visible;
      }
      
      .copy-success {
          color: #10B981; /* Green color for success feedback */
          transition: color 0.3s;
      }
  </style>
</head>

<body style="font-family: 'Inter', sans-serif; background: radial-gradient(circle at top left, rgba(96, 165, 250, 0.22), transparent 55%), radial-gradient(circle at top right, rgba(56, 189, 248, 0.16), transparent 55%), radial-gradient(circle at bottom, rgba(15, 23, 42, 0.95), #020617 70%);" onload="initAnimations()">
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.body.classList.add('page-loaded');
  });
</script>
  <script>
      function initAnimations() {
          // Initialize AOS
          if (typeof AOS !== 'undefined') {
              AOS.init({
                  duration: 600,
                  easing: 'ease-out-quad',
                  once: true
              });
          }
      }
      
      // Function to copy user ID to clipboard
      function copyUserId() {
          const userId = '<%= userinfo.id %>';
          navigator.clipboard.writeText(userId).then(() => {
              // Show success feedback
              const idElement = document.getElementById('user-id');
              idElement.classList.add('copy-success');
              
              // Change text temporarily
              const originalText = idElement.textContent;
              idElement.textContent = 'Copied!';
              
              // Revert after 2 seconds
              setTimeout(() => {
                  idElement.textContent = originalText;
                  idElement.classList.remove('copy-success');
              }, 2000);
          }).catch(err => {
              console.error('Failed to copy: ', err);
              alert('Не удалось скопировать ID');
          });
      }
  </script>
  
  <%- include('components/navigation') %>
  <div class="md:pl-52 flex flex-col flex-1 min-h-screen">
    <main class="flex-1">
      <div class="py-6">
        <div class="max-w-7xl pt-8 mx-auto px-4 sm:px-6 md:px-8">
          <!-- Banner section with animation -->
          <div data-aos="fade">
            <div>
              <% if (userinfo.banner == null) { %>
                <img class="h-32 w-full object-cover lg:h-48 rounded-xl animate-fadeInUp" src="/assets/img/wallpaper_night.jpg" alt="">
                <% } else { %>
                <img class="h-32 w-full object-cover lg:h-48 rounded-xl animate-fadeInUp" src="https://cdn.discordapp.com/banners/<%= userinfo.id %>/<%= userinfo.banner %>?size=512" alt="">
              <% } %>  
            </div>
            
            <!-- Profile section with staggered animations -->
            <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
              <div class="-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5">
                <div class="flex" data-aos="fade-right" data-aos-delay="100">
                  <img class="h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32 hover-grow transition-all duration-300"
                  src="https://cdn.discordapp.com/avatars/<%= userinfo.id %>/<%= userinfo.avatar %>?size=256" alt="">
                </div>
                <div class="mt-6 sm:flex sm:min-w-0 sm:flex-1 sm:items-center sm:justify-end sm:space-x-6 sm:pb-1">
                  <div class="mt-6 min-w-0 flex-1 sm:hidden md:block" data-aos="fade-up" data-aos-delay="200">
                    <h1 class="truncate text-2xl font-bold transition-colors duration-300" style="color: #e5e7eb;">@<%= userinfo.username %> </h1>
                  </div>
                  <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4" data-aos="fade-left" data-aos-delay="300">
                    <p class="transition-colors duration-300" style="color: #9ca3af;">
                      <%= userinfo.email %> • 
                      <span id="user-id" class="copy-id" onclick="copyUserId()">
                        <%= userinfo.id %>
                        <span class="copy-tooltip">Нажмите, чтобы скопировать ID</span>
                      </span>
                    </p>
                  </div>
                </div>
              </div>
            </div>       
          </div>

          <br>
          
          <!-- JSON section with animation -->
          <% if (settings.profile_json == true) { %>
          <div class="card mt-10" data-aos="zoom-in" data-aos-delay="400">
            <div class="card-body">
              <pre class="p-5 mt-5 rounded-2xl text-xs tracking-tighter hover:shadow-md transition-shadow duration-300" style="background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(148, 163, 184, 0.22); color: #9ca3af;"><%= JSON.stringify(userinfo, null, 2) %></pre>
            </div>
          </div>  
          <% } %>    
          
          <br>&nbsp;
          
          <!-- Security card section - NO ANIMATIONS (as requested) -->
          <div class="p-16 lg:flex lg:items-center lg:justify-between rounded-lg shadow-lg deploy-card">
              <div class="min-w-0 flex-1" style="position: relative; z-index: 1;">
                <h2 class="text-2xl font-bold leading-7 sm:truncate sm:text-3xl sm:tracking-tight" style="color: #e5e7eb;">Ищете настройки безопасности?</h2>
                <p class="text-md font-medium" style="color: #9ca3af;">Вы можете перейти отсюда</p>
              </div>
              <div class="mt-5 flex lg:ml-4 lg:mt-0" style="position: relative; z-index: 1;">
                <span class="sm:ml-3">
                  <a href="../settings" type="button" class="transition inline-flex items-center rounded-md px-6 py-6 text-sm font-semibold text-white hover:shadow-inner focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-600 floating-btn btn-hover btn-active" style="background: rgba(79, 70, 229, 0.3); border: 1px solid rgba(129, 140, 248, 0.5);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
                    </svg>                              
                    </a>
                </span>
              </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<script>
  // Initialize animations when page loads
  document.addEventListener('DOMContentLoaded', function() {
      if (typeof AOS !== 'undefined') {
          AOS.init({
              duration: 600,
              easing: 'ease-out-quad',
              once: true
          });
      }
  });
</script>
</body>